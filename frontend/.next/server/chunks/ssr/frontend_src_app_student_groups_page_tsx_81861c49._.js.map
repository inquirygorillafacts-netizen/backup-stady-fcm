{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///app/frontend/src/app/student/groups/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { \n  Users, \n  Plus, \n  Lock, \n  Globe, \n  MessageCircle,\n  Send,\n  Phone,\n  Clock,\n  UserPlus,\n  Settings,\n  Heart,\n  Search,\n  Image as ImageIcon,\n  FileText,\n  X,\n  PhoneCall,\n  Mic,\n  MicOff,\n  Video,\n  VideoOff,\n  PhoneOff,\n  Copy,\n  Shield,\n  Timer,\n  Trash2\n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport { useAuth } from '@/contexts/AuthContext';\n\ninterface Group {\n  id: string;\n  name: string;\n  type: 'public' | 'private';\n  owner_id: string;\n  description?: string;\n  members: string[];\n  pending_requests: string[];\n}\n\ninterface GroupMessage {\n  id: string;\n  group_id: string;\n  user_id: string;\n  user_name: string;\n  message: string;\n  message_type: 'text' | 'image' | 'pdf';\n  timestamp: string;\n}\n\nexport default function GroupsPage() {\n  const { userData } = useAuth();\n  const [groups, setGroups] = useState<Group[]>([]);\n  const [selectedGroup, setSelectedGroup] = useState<Group | null>(null);\n  const [messages, setMessages] = useState<GroupMessage[]>([]);\n  const [messageInput, setMessageInput] = useState('');\n  const [showCreateGroup, setShowCreateGroup] = useState(false);\n  const [showRandomVoice, setShowRandomVoice] = useState(false);\n  const [showCodeModal, setShowCodeModal] = useState(false);\n  const [showVoiceCall, setShowVoiceCall] = useState(false);\n  const [myCode, setMyCode] = useState('');\n  const [callCode, setCallCode] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isInRandomCall, setIsInRandomCall] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    fetchGroups();\n    checkRandomVoiceTime();\n    generateMyCode();\n    \n    // Check time every minute\n    const interval = setInterval(checkRandomVoiceTime, 60000);\n    return () => clearInterval(interval);\n  }, []);\n\n  useEffect(() => {\n    if (selectedGroup) {\n      fetchMessages(selectedGroup.id);\n    }\n  }, [selectedGroup]);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const generateMyCode = () => {\n    const stored = localStorage.getItem('myAnonymousCode');\n    if (stored) {\n      setMyCode(stored);\n    } else {\n      const code = Math.floor(10000 + Math.random() * 90000).toString();\n      localStorage.setItem('myAnonymousCode', code);\n      setMyCode(code);\n    }\n  };\n\n  const checkRandomVoiceTime = () => {\n    const now = new Date();\n    const hour = now.getHours();\n    const minute = now.getMinutes();\n    \n    // Show button at 5:00 PM (17:00) for 30 minutes\n    if (hour === 17 && minute < 30) {\n      setShowRandomVoice(true);\n    } else {\n      setShowRandomVoice(false);\n    }\n  };\n\n  const fetchGroups = () => {\n    const stored = localStorage.getItem('groups');\n    if (stored) {\n      setGroups(JSON.parse(stored));\n    } else {\n      setGroups(DUMMY_GROUPS);\n      localStorage.setItem('groups', JSON.stringify(DUMMY_GROUPS));\n    }\n  };\n\n  const fetchMessages = (groupId: string) => {\n    const stored = localStorage.getItem(`messages_${groupId}`);\n    if (stored) {\n      const allMessages: GroupMessage[] = JSON.parse(stored);\n      \n      // Filter messages older than 3 days\n      const threeDaysAgo = Date.now() - (3 * 24 * 60 * 60 * 1000);\n      const recentMessages = allMessages.filter(msg => \n        new Date(msg.timestamp).getTime() > threeDaysAgo\n      );\n      \n      // Save filtered messages back\n      if (recentMessages.length !== allMessages.length) {\n        localStorage.setItem(`messages_${groupId}`, JSON.stringify(recentMessages));\n      }\n      \n      setMessages(recentMessages);\n    } else {\n      setMessages([]);\n    }\n  };\n\n  const handleCreateGroup = (name: string, type: 'public' | 'private', description: string) => {\n    const newGroup: Group = {\n      id: Date.now().toString(),\n      name,\n      type,\n      owner_id: userData?.id || '',\n      description,\n      members: [userData?.id || ''],\n      pending_requests: []\n    };\n\n    const updatedGroups = [...groups, newGroup];\n    setGroups(updatedGroups);\n    localStorage.setItem('groups', JSON.stringify(updatedGroups));\n    toast.success('Group created successfully!');\n    setShowCreateGroup(false);\n  };\n\n  const handleJoinGroup = (groupId: string) => {\n    const group = groups.find(g => g.id === groupId);\n    if (!group) return;\n\n    if (group.type === 'public') {\n      // Instantly join public groups\n      const updatedGroups = groups.map(g => \n        g.id === groupId \n          ? { ...g, members: [...g.members, userData?.id || ''] }\n          : g\n      );\n      setGroups(updatedGroups);\n      localStorage.setItem('groups', JSON.stringify(updatedGroups));\n      toast.success('Joined group successfully!');\n    } else {\n      // Send request for private groups\n      const updatedGroups = groups.map(g => \n        g.id === groupId \n          ? { ...g, pending_requests: [...g.pending_requests, userData?.id || ''] }\n          : g\n      );\n      setGroups(updatedGroups);\n      localStorage.setItem('groups', JSON.stringify(updatedGroups));\n      toast.success('Request sent to group owner');\n    }\n  };\n\n  const handleSendMessage = (type: 'text' | 'image' | 'pdf' = 'text') => {\n    if (type === 'text' && !messageInput.trim()) return;\n    if (!selectedGroup) return;\n\n    const newMessage: GroupMessage = {\n      id: Date.now().toString(),\n      group_id: selectedGroup.id,\n      user_id: userData?.id || '',\n      user_name: userData?.name || 'User',\n      message: type === 'text' ? messageInput : `[${type.toUpperCase()}]`,\n      message_type: type,\n      timestamp: new Date().toISOString()\n    };\n\n    const groupMessages = [...messages, newMessage];\n    setMessages(groupMessages);\n    localStorage.setItem(`messages_${selectedGroup.id}`, JSON.stringify(groupMessages));\n    setMessageInput('');\n\n    if (type !== 'text') {\n      toast.info(`${type} upload will be available after Firebase Storage integration`);\n    }\n  };\n\n  const handleRandomVoiceConnect = () => {\n    setIsInRandomCall(true);\n    setShowVoiceCall(true);\n    toast.success('Connecting to random user... üé§');\n    \n    // Simulate finding a match after 5 seconds\n    setTimeout(() => {\n      const found = Math.random() > 0.3; // 70% chance of finding someone\n      if (found) {\n        toast.success('Connected! You can now talk anonymously.');\n      } else {\n        toast.error('‡§Ö‡§≠‡•Ä ‡§ï‡•ã‡§à ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§ Please try again later.');\n        setShowVoiceCall(false);\n        setIsInRandomCall(false);\n      }\n    }, 5000);\n  };\n\n  const handleCodeCall = () => {\n    if (callCode.length !== 5) {\n      toast.error('Please enter a valid 5-digit code');\n      return;\n    }\n\n    // Simulate checking if user is online\n    const isOnline = Math.random() > 0.5;\n    if (isOnline) {\n      setShowVoiceCall(true);\n      setShowCodeModal(false);\n      toast.success(`Calling ${callCode}... üìû`);\n    } else {\n      toast.error('User is offline. Try again later.');\n    }\n  };\n\n  const handleEndCall = () => {\n    setShowVoiceCall(false);\n    setIsInRandomCall(false);\n    toast.info('Call ended');\n  };\n\n  const handleClearHistory = (groupId: string) => {\n    localStorage.removeItem(`messages_${groupId}`);\n    if (selectedGroup?.id === groupId) {\n      setMessages([]);\n    }\n    toast.success('Chat history cleared');\n  };\n\n  const filteredGroups = groups.filter(g => \n    g.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    g.description?.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  // Voice Call Modal\n  if (showVoiceCall) {\n    return (\n      <div className=\"h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-600 to-red-600 p-6\">\n        <div className=\"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8 max-w-md w-full space-y-8 text-center\">\n          <div className=\"space-y-4\">\n            <div className=\"w-32 h-32 mx-auto bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-2xl animate-pulse\">\n              <Shield className=\"w-16 h-16 text-white\" />\n            </div>\n            <h2 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n              {isInRandomCall ? 'Anonymous Call' : `Calling ${callCode}`}\n            </h2>\n            <p className=\"text-gray-600 dark:text-gray-400\">\n              {isInRandomCall ? 'You are connected anonymously' : 'Voice call in progress'}\n            </p>\n            <div className=\"flex items-center justify-center gap-2 text-sm text-gray-500 dark:text-gray-400\">\n              <Clock className=\"w-4 h-4\" />\n              <span>00:00</span>\n            </div>\n          </div>\n\n          <div className=\"flex justify-center gap-4\">\n            <button\n              onClick={() => setIsMuted(!isMuted)}\n              className={`p-6 rounded-full transition-all shadow-lg ${\n                isMuted \n                  ? 'bg-red-500 text-white' \n                  : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300'\n              }`}\n            >\n              {isMuted ? <MicOff className=\"w-8 h-8\" /> : <Mic className=\"w-8 h-8\" />}\n            </button>\n            <button\n              onClick={handleEndCall}\n              className=\"p-6 bg-red-600 text-white rounded-full hover:bg-red-700 transition-all shadow-lg\"\n            >\n              <PhoneOff className=\"w-8 h-8\" />\n            </button>\n          </div>\n\n          <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n            üîí This call is completely anonymous. No data is shared.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  // Group Chat View\n  if (selectedGroup) {\n    return (\n      <div className=\"h-screen flex flex-col\">\n        {/* Chat Header */}\n        <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <button\n                onClick={() => setSelectedGroup(null)}\n                className=\"text-blue-600 hover:text-blue-700 font-medium\"\n              >\n                ‚Üê Back\n              </button>\n              <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\n                <Users className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">{selectedGroup.name}</h2>\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                  {selectedGroup.members.length} members ‚Ä¢ {selectedGroup.type}\n                </p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <button \n                onClick={() => handleClearHistory(selectedGroup.id)}\n                className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\"\n                title=\"Clear History\"\n              >\n                <Trash2 className=\"w-5 h-5 text-red-500\" />\n              </button>\n              <button className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\">\n                <Settings className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Messages */}\n        <div className=\"flex-1 overflow-y-auto p-6 space-y-4 bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800\">\n          {/* Auto-delete notice */}\n          <div className=\"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-xl p-4 flex items-center gap-3\">\n            <Timer className=\"w-5 h-5 text-yellow-600 dark:text-yellow-400\" />\n            <p className=\"text-sm text-yellow-800 dark:text-yellow-200\">\n              Messages older than 3 days are automatically deleted\n            </p>\n          </div>\n\n          {messages.length === 0 ? (\n            <div className=\"h-full flex items-center justify-center\">\n              <div className=\"text-center text-gray-500 dark:text-gray-400\">\n                <MessageCircle className=\"w-16 h-16 mx-auto mb-4 opacity-50\" />\n                <p>No messages yet. Start the conversation!</p>\n              </div>\n            </div>\n          ) : (\n            messages.map((msg) => {\n              const isMyMessage = msg.user_id === userData?.id;\n              return (\n                <div\n                  key={msg.id}\n                  className={`flex gap-3 ${\n                    isMyMessage ? 'justify-end' : 'justify-start'\n                  } animate-fade-in`}\n                >\n                  {!isMyMessage && (\n                    <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-lg\">\n                      <span className=\"text-white text-sm font-bold\">\n                        {msg.user_name.charAt(0)}\n                      </span>\n                    </div>\n                  )}\n                  <div\n                    className={`max-w-xs p-3 rounded-2xl shadow-lg ${\n                      isMyMessage\n                        ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white'\n                        : 'bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700'\n                    }`}\n                  >\n                    {!isMyMessage && (\n                      <p className=\"text-xs font-semibold mb-1 opacity-70\">{msg.user_name}</p>\n                    )}\n                    <p>{msg.message}</p>\n                    <p className=\"text-xs mt-1 opacity-70\">\n                      {new Date(msg.timestamp).toLocaleTimeString('hi-IN', { \n                        hour: '2-digit', \n                        minute: '2-digit' \n                      })}\n                    </p>\n                  </div>\n                  {isMyMessage && (\n                    <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center flex-shrink-0 shadow-lg\">\n                      <span className=\"text-white text-sm font-bold\">\n                        {userData?.name.charAt(0)}\n                      </span>\n                    </div>\n                  )}\n                </div>\n              );\n            })\n          )}\n          <div ref={messagesEndRef} />\n        </div>\n\n        {/* Input */}\n        <div className=\"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <button \n              onClick={() => handleSendMessage('image')}\n              className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\"\n              title=\"Send Image\"\n            >\n              <ImageIcon className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\n            </button>\n            <button \n              onClick={() => handleSendMessage('pdf')}\n              className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\"\n              title=\"Send PDF\"\n            >\n              <FileText className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\n            </button>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <input\n              type=\"text\"\n              value={messageInput}\n              onChange={(e) => setMessageInput(e.target.value)}\n              onKeyPress={(e) => e.key === 'Enter' && handleSendMessage('text')}\n              placeholder=\"Type a message...\"\n              className=\"flex-1 px-4 py-3 bg-gray-100 dark:bg-gray-700 rounded-xl focus:ring-2 focus:ring-blue-500 border-none\"\n            />\n            <button\n              onClick={() => handleSendMessage('text')}\n              className=\"p-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 shadow-lg\"\n            >\n              <Send className=\"w-5 h-5\" />\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Groups List View\n  return (\n    <div className=\"p-6 space-y-6 max-w-7xl mx-auto\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">Groups & Chat</h1>\n          <p className=\"text-gray-600 dark:text-gray-400\">Connect with other students</p>\n        </div>\n        <button\n          onClick={() => setShowCreateGroup(true)}\n          className=\"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 shadow-lg\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          Create Group\n        </button>\n      </div>\n\n      {/* Random Voice Connection (5 PM Feature) */}\n      {showRandomVoice && (\n        <div className=\"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 rounded-2xl p-6 text-white shadow-2xl animate-fade-in\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-4\">\n              <div className=\"w-16 h-16 bg-white/20 backdrop-blur-lg rounded-full flex items-center justify-center animate-pulse\">\n                <Phone className=\"w-8 h-8\" />\n              </div>\n              <div>\n                <h3 className=\"text-2xl font-bold mb-1\">Random Voice Connection üé§</h3>\n                <p className=\"text-purple-100\">Connect with a random student anonymously</p>\n                <div className=\"flex items-center gap-2 mt-2\">\n                  <Clock className=\"w-4 h-4\" />\n                  <span className=\"text-sm\">Available for next 30 minutes</span>\n                </div>\n              </div>\n            </div>\n            <button\n              onClick={handleRandomVoiceConnect}\n              className=\"bg-white text-purple-600 px-8 py-4 rounded-xl font-bold hover:bg-purple-50 transition-all shadow-xl hover:shadow-2xl transform hover:scale-105\"\n            >\n              Connect Now\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* My Anonymous Code */}\n      <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-6 text-white shadow-xl\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h3 className=\"text-xl font-bold mb-2\">Your Anonymous Code</h3>\n            <p className=\"text-blue-100 text-sm mb-3\">Share this code with friends for private calls</p>\n            <div className=\"flex items-center gap-3\">\n              <div className=\"bg-white/20 backdrop-blur-lg px-6 py-3 rounded-xl\">\n                <p className=\"text-3xl font-bold tracking-wider\">{myCode}</p>\n              </div>\n              <button\n                onClick={() => {\n                  navigator.clipboard.writeText(myCode);\n                  toast.success('Code copied!');\n                }}\n                className=\"p-3 bg-white/20 backdrop-blur-lg rounded-xl hover:bg-white/30 transition-colors\"\n              >\n                <Copy className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n          <button\n            onClick={() => setShowCodeModal(true)}\n            className=\"bg-white text-blue-600 px-6 py-3 rounded-xl font-bold hover:bg-blue-50 transition-all shadow-lg\"\n          >\n            <PhoneCall className=\"w-5 h-5 inline mr-2\" />\n            Call by Code\n          </button>\n        </div>\n      </div>\n\n      {/* Search */}\n      <div className=\"relative\">\n        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n        <input\n          type=\"text\"\n          placeholder=\"Search groups...\"\n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n          className=\"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n\n      {/* Groups Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {filteredGroups.map((group) => {\n          const isMember = group.members.includes(userData?.id || '');\n          const hasPendingRequest = group.pending_requests.includes(userData?.id || '');\n\n          return (\n            <div\n              key={group.id}\n              className=\"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 hover:shadow-2xl transition-all transform hover:-translate-y-1\"\n            >\n              <div className=\"flex items-start justify-between mb-4\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg\">\n                    <Users className=\"w-6 h-6 text-white\" />\n                  </div>\n                  <div>\n                    <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">{group.name}</h3>\n                    <div className=\"flex items-center gap-2 mt-1\">\n                      {group.type === 'public' ? (\n                        <Globe className=\"w-4 h-4 text-green-500\" />\n                      ) : (\n                        <Lock className=\"w-4 h-4 text-orange-500\" />\n                      )}\n                      <span className=\"text-sm text-gray-600 dark:text-gray-400\">\n                        {group.type}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {group.description && (\n                <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2\">\n                  {group.description}\n                </p>\n              )}\n\n              <div className=\"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700\">\n                <span className=\"text-sm text-gray-600 dark:text-gray-400\">\n                  {group.members.length} members\n                </span>\n                {isMember ? (\n                  <button\n                    onClick={() => setSelectedGroup(group)}\n                    className=\"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 shadow-lg\"\n                  >\n                    <MessageCircle className=\"w-4 h-4\" />\n                    Open\n                  </button>\n                ) : hasPendingRequest ? (\n                  <button\n                    disabled\n                    className=\"bg-gray-300 dark:bg-gray-600 text-gray-600 dark:text-gray-400 px-4 py-2 rounded-lg font-medium cursor-not-allowed\"\n                  >\n                    Pending\n                  </button>\n                ) : (\n                  <button\n                    onClick={() => handleJoinGroup(group.id)}\n                    className=\"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 shadow-lg\"\n                  >\n                    <UserPlus className=\"w-4 h-4\" />\n                    Join\n                  </button>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Create Group Modal */}\n      {showCreateGroup && (\n        <CreateGroupModal\n          onClose={() => setShowCreateGroup(false)}\n          onCreate={handleCreateGroup}\n        />\n      )}\n\n      {/* Code Call Modal */}\n      {showCodeModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-2xl p-8 max-w-md w-full space-y-6\">\n            <div className=\"flex items-center justify-between\">\n              <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Call by Code</h2>\n              <button onClick={() => setShowCodeModal(false)} className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\">\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n            <p className=\"text-gray-600 dark:text-gray-400\">\n              Enter your friend's 5-digit anonymous code\n            </p>\n            <input\n              type=\"text\"\n              inputMode=\"numeric\"\n              maxLength={5}\n              value={callCode}\n              onChange={(e) => setCallCode(e.target.value.replace(/\\D/g, ''))}\n              placeholder=\"Enter 5-digit code\"\n              className=\"w-full px-4 py-3 bg-gray-100 dark:bg-gray-700 rounded-xl border-none focus:ring-2 focus:ring-blue-500 text-center text-2xl tracking-widest font-bold\"\n            />\n            <button\n              onClick={handleCodeCall}\n              disabled={callCode.length !== 5}\n              className=\"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-4 rounded-xl font-bold hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg\"\n            >\n              <PhoneCall className=\"w-5 h-5\" />\n              Call Now\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Create Group Modal Component\nfunction CreateGroupModal({ \n  onClose, \n  onCreate \n}: { \n  onClose: () => void; \n  onCreate: (name: string, type: 'public' | 'private', description: string) => void;\n}) {\n  const [name, setName] = useState('');\n  const [type, setType] = useState<'public' | 'private'>('public');\n  const [description, setDescription] = useState('');\n\n  const handleSubmit = () => {\n    if (!name.trim()) {\n      toast.error('Please enter group name');\n      return;\n    }\n    onCreate(name, type, description);\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm\">\n      <div className=\"bg-white dark:bg-gray-800 rounded-2xl p-6 max-w-md w-full space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Create New Group</h2>\n          <button onClick={onClose} className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\">\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            Group Name\n          </label>\n          <input\n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            className=\"w-full px-4 py-3 bg-gray-100 dark:bg-gray-700 rounded-xl border-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter group name\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            Type\n          </label>\n          <div className=\"flex gap-4\">\n            <button\n              onClick={() => setType('public')}\n              className={`flex-1 flex items-center justify-center gap-2 p-3 rounded-xl border-2 transition-all ${\n                type === 'public'\n                  ? 'border-blue-600 bg-blue-50 dark:bg-blue-900/20'\n                  : 'border-gray-300 dark:border-gray-600'\n              }`}\n            >\n              <Globe className=\"w-5 h-5\" />\n              <span className=\"font-medium\">Public</span>\n            </button>\n            <button\n              onClick={() => setType('private')}\n              className={`flex-1 flex items-center justify-center gap-2 p-3 rounded-xl border-2 transition-all ${\n                type === 'private'\n                  ? 'border-blue-600 bg-blue-50 dark:bg-blue-900/20'\n                  : 'border-gray-300 dark:border-gray-600'\n              }`}\n            >\n              <Lock className=\"w-5 h-5\" />\n              <span className=\"font-medium\">Private</span>\n            </button>\n          </div>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            Description (Optional)\n          </label>\n          <textarea\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            className=\"w-full px-4 py-3 bg-gray-100 dark:bg-gray-700 rounded-xl border-none focus:ring-2 focus:ring-blue-500\"\n            rows={3}\n            placeholder=\"What is this group about?\"\n          />\n        </div>\n\n        <div className=\"flex gap-3\">\n          <button\n            onClick={onClose}\n            className=\"flex-1 px-4 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-300 dark:hover:bg-gray-600\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleSubmit}\n            className=\"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-medium hover:from-blue-700 hover:to-purple-700 shadow-lg\"\n          >\n            Create\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Dummy Data\nconst DUMMY_GROUPS: Group[] = [\n  {\n    id: 'default-public',\n    name: 'Stady Community (Official)',\n    type: 'public',\n    owner_id: 'admin',\n    description: 'Official public group for all Stady users. Join and connect!',\n    members: ['user1', 'user2', 'user3'],\n    pending_requests: []\n  },\n  {\n    id: '2',\n    name: 'SSC CGL Preparation 2024',\n    type: 'public',\n    owner_id: 'owner1',\n    description: 'Discussion group for SSC CGL exam preparation',\n    members: ['user1', 'user2', 'user3'],\n    pending_requests: []\n  },\n  {\n    id: '3',\n    name: 'UPSC Aspirants',\n    type: 'public',\n    owner_id: 'owner2',\n    description: 'Connect with fellow UPSC aspirants',\n    members: ['user1', 'user4'],\n    pending_requests: []\n  },\n];\n"],"names":[],"mappings":"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","debugId":null}}]
}