{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///app/frontend/src/components/ThemeProvider.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\n\ntype Theme = 'light' | 'dark';\n\ntype ThemeProviderProps = {\n  children: React.ReactNode;\n  defaultTheme?: Theme;\n};\n\ntype ThemeProviderState = {\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n  toggleTheme: () => void;\n};\n\nconst ThemeProviderContext = React.createContext<ThemeProviderState | undefined>(\n  undefined\n);\n\nexport function ThemeProvider({\n  children,\n  defaultTheme = 'light',\n  ...props\n}: ThemeProviderProps) {\n  const [theme, setThemeState] = React.useState<Theme>(defaultTheme);\n\n  React.useEffect(() => {\n    // Load theme from localStorage\n    const savedTheme = localStorage.getItem('theme') as Theme | null;\n    if (savedTheme) {\n      setThemeState(savedTheme);\n    }\n  }, []);\n\n  React.useEffect(() => {\n    // Apply theme to document\n    const root = window.document.documentElement;\n    root.classList.remove('light', 'dark');\n    root.classList.add(theme);\n    \n    // Save to localStorage\n    localStorage.setItem('theme', theme);\n    \n    // Update meta theme-color\n    const metaThemeColor = document.querySelector('meta[name=\"theme-color\"]');\n    if (metaThemeColor) {\n      metaThemeColor.setAttribute(\n        'content',\n        theme === 'dark' ? '#0f172a' : '#ffffff'\n      );\n    }\n  }, [theme]);\n\n  const toggleTheme = React.useCallback(() => {\n    setThemeState((prev) => (prev === 'light' ? 'dark' : 'light'));\n  }, []);\n\n  const value = React.useMemo(\n    () => ({\n      theme,\n      setTheme: setThemeState,\n      toggleTheme,\n    }),\n    [theme, toggleTheme]\n  );\n\n  return (\n    <ThemeProviderContext.Provider {...props} value={value}>\n      {children}\n    </ThemeProviderContext.Provider>\n  );\n}\n\nexport const useTheme = () => {\n  const context = React.useContext(ThemeProviderContext);\n\n  if (context === undefined)\n    throw new Error('useTheme must be used within a ThemeProvider');\n\n  return context;\n};"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAiBA,MAAM,qCAAuB,kOAAmB,CAC9C;AAGK,SAAS,cAAc,EAC5B,QAAQ,EACR,eAAe,OAAO,EACtB,GAAG,OACgB;IACnB,MAAM,CAAC,OAAO,cAAc,GAAG,6NAAc,CAAQ;IAErD,8NAAe,CAAC;QACd,+BAA+B;QAC/B,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,IAAI,YAAY;YACd,cAAc;QAChB;IACF,GAAG,EAAE;IAEL,8NAAe,CAAC;QACd,0BAA0B;QAC1B,MAAM,OAAO,OAAO,QAAQ,CAAC,eAAe;QAC5C,KAAK,SAAS,CAAC,MAAM,CAAC,SAAS;QAC/B,KAAK,SAAS,CAAC,GAAG,CAAC;QAEnB,uBAAuB;QACvB,aAAa,OAAO,CAAC,SAAS;QAE9B,0BAA0B;QAC1B,MAAM,iBAAiB,SAAS,aAAa,CAAC;QAC9C,IAAI,gBAAgB;YAClB,eAAe,YAAY,CACzB,WACA,UAAU,SAAS,YAAY;QAEnC;IACF,GAAG;QAAC;KAAM;IAEV,MAAM,cAAc,gOAAiB,CAAC;QACpC,cAAc,CAAC,OAAU,SAAS,UAAU,SAAS;IACvD,GAAG,EAAE;IAEL,MAAM,QAAQ,4NAAa,CACzB,IAAM,CAAC;YACL;YACA,UAAU;YACV;QACF,CAAC,GACD;QAAC;QAAO;KAAY;IAGtB,qBACE,0PAAC,qBAAqB,QAAQ;QAAE,GAAG,KAAK;QAAE,OAAO;kBAC9C;;;;;;AAGP;AAEO,MAAM,WAAW;IACtB,MAAM,UAAU,+NAAgB,CAAC;IAEjC,IAAI,YAAY,WACd,MAAM,IAAI,MAAM;IAElB,OAAO;AACT"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///app/frontend/src/contexts/AuthContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useEffect, useState, ReactNode } from 'react';\nimport { \n  User,\n  signInWithPopup, \n  GoogleAuthProvider, \n  signOut as firebaseSignOut,\n  onAuthStateChanged,\n  setPersistence,\n  browserLocalPersistence\n} from 'firebase/auth';\nimport { getFirebaseAuth } from '@/lib/firebase';\nimport axios from 'axios';\n\ninterface UserData {\n  id: string;\n  email: string;\n  name: string;\n  photo: string | null;\n  roles: string[];\n  onboarding_completed: boolean;\n  phone: string | null;\n  preferences: any;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  userData: UserData | null;\n  loading: boolean;\n  signInWithGoogle: () => Promise<void>;\n  signOut: () => Promise<void>;\n  refreshUserData: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nconst BACKEND_URL = process.env.NEXT_PUBLIC_BACKEND_URL || process.env.REACT_APP_BACKEND_URL || 'http://localhost:8001';\nconst API_URL = `${BACKEND_URL}/api`;\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [userData, setUserData] = useState<UserData | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  // Check for dummy user in localStorage\n  useEffect(() => {\n    const dummyUser = localStorage.getItem('dummyUser');\n    if (dummyUser) {\n      const parsed = JSON.parse(dummyUser);\n      setUser(parsed as any);\n      setUserData(parsed.userData);\n    }\n    setLoading(false);\n  }, []);\n\n  const signInWithGoogle = async () => {\n    // Dummy authentication - bypass Firebase\n    const dummyUser = {\n      uid: 'dummy-user-' + Date.now(),\n      email: 'student@stady.com',\n      displayName: 'Demo Student',\n      photoURL: null,\n      userData: {\n        id: 'dummy-user-' + Date.now(),\n        email: 'student@stady.com',\n        name: 'Demo Student',\n        photo: null,\n        roles: ['student'],\n        onboarding_completed: false,\n        phone: null,\n        preferences: {}\n      }\n    };\n    \n    localStorage.setItem('dummyUser', JSON.stringify(dummyUser));\n    setUser(dummyUser as any);\n    setUserData(dummyUser.userData);\n  };\n\n  const signOut = async () => {\n    localStorage.removeItem('dummyUser');\n    setUser(null);\n    setUserData(null);\n  };\n\n  const refreshUserData = async () => {\n    const dummyUser = localStorage.getItem('dummyUser');\n    if (dummyUser) {\n      const parsed = JSON.parse(dummyUser);\n      setUserData(parsed.userData);\n    }\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, userData, loading, signInWithGoogle, signOut, refreshUserData }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAmCA,MAAM,4BAAc,IAAA,kOAAa,EAA8B;AAE/D,MAAM,cAAc,QAAQ,GAAG,CAAC,uBAAuB,IAAI,QAAQ,GAAG,CAAC,qBAAqB,IAAI;AAChG,MAAM,UAAU,GAAG,YAAY,IAAI,CAAC;AAE7B,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,6NAAQ,EAAc;IAC9C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,6NAAQ,EAAkB;IAC1D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,6NAAQ,EAAC;IAEvC,uCAAuC;IACvC,IAAA,8NAAS,EAAC;QACR,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,IAAI,WAAW;YACb,MAAM,SAAS,KAAK,KAAK,CAAC;YAC1B,QAAQ;YACR,YAAY,OAAO,QAAQ;QAC7B;QACA,WAAW;IACb,GAAG,EAAE;IAEL,MAAM,mBAAmB;QACvB,yCAAyC;QACzC,MAAM,YAAY;YAChB,KAAK,gBAAgB,KAAK,GAAG;YAC7B,OAAO;YACP,aAAa;YACb,UAAU;YACV,UAAU;gBACR,IAAI,gBAAgB,KAAK,GAAG;gBAC5B,OAAO;gBACP,MAAM;gBACN,OAAO;gBACP,OAAO;oBAAC;iBAAU;gBAClB,sBAAsB;gBACtB,OAAO;gBACP,aAAa,CAAC;YAChB;QACF;QAEA,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;QACjD,QAAQ;QACR,YAAY,UAAU,QAAQ;IAChC;IAEA,MAAM,UAAU;QACd,aAAa,UAAU,CAAC;QACxB,QAAQ;QACR,YAAY;IACd;IAEA,MAAM,kBAAkB;QACtB,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,IAAI,WAAW;YACb,MAAM,SAAS,KAAK,KAAK,CAAC;YAC1B,YAAY,OAAO,QAAQ;QAC7B;IACF;IAEA,qBACE,0PAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAU;YAAS;YAAkB;YAAS;QAAgB;kBAChG;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,+NAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///app/frontend/src/components/AppLockScreen.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Lock, Delete, Check } from 'lucide-react';\nimport { toast } from 'sonner';\n\ninterface AppLockScreenProps {\n  onUnlock: () => void;\n}\n\nexport function AppLockScreen({ onUnlock }: AppLockScreenProps) {\n  const [pin, setPin] = useState('');\n  const [savedPin, setSavedPin] = useState('');\n  const [attempts, setAttempts] = useState(0);\n  const [locked, setLocked] = useState(false);\n\n  useEffect(() => {\n    const stored = localStorage.getItem('appLockPin');\n    if (stored) {\n      setSavedPin(stored);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (pin.length === 4) {\n      verifyPin();\n    }\n  }, [pin]);\n\n  const verifyPin = () => {\n    if (pin === savedPin) {\n      toast.success('‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à! Welcome!');\n      onUnlock();\n    } else {\n      const newAttempts = attempts + 1;\n      setAttempts(newAttempts);\n      \n      if (newAttempts >= 3) {\n        setLocked(true);\n        toast.error('Too many attempts! Contact helpline.');\n      } else {\n        toast.error(`Wrong PIN! ${3 - newAttempts} attempts left`);\n      }\n      \n      setPin('');\n    }\n  };\n\n  const handleNumberClick = (num: string) => {\n    if (pin.length < 4) {\n      setPin(pin + num);\n    }\n  };\n\n  const handleDelete = () => {\n    setPin(pin.slice(0, -1));\n  };\n\n  const handleForgotPin = () => {\n    toast.info('Please contact helpline: +91 98765 43210');\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600\">\n      <div className=\"max-w-md w-full space-y-8\">\n        {/* Lock Icon */}\n        <div className=\"text-center space-y-4\">\n          <div className=\"inline-flex p-6 bg-white/20 backdrop-blur-lg rounded-full shadow-2xl\">\n            <Lock className=\"w-16 h-16 text-white\" />\n          </div>\n          <h1 className=\"text-4xl font-bold text-white drop-shadow-lg\">\n            Enter PIN\n          </h1>\n          <p className=\"text-blue-100\">\n            Enter your 4-digit PIN to unlock\n          </p>\n        </div>\n\n        {/* PIN Display */}\n        <div className=\"flex justify-center gap-4 py-8\">\n          {[0, 1, 2, 3].map((index) => (\n            <div\n              key={index}\n              className={`w-16 h-16 rounded-2xl flex items-center justify-center text-2xl font-bold transition-all ${\n                pin.length > index\n                  ? 'bg-white text-blue-600 scale-110'\n                  : 'bg-white/20 backdrop-blur-lg text-white/40'\n              }`}\n            >\n              {pin.length > index ? '‚Ä¢' : ''}\n            </div>\n          ))}\n        </div>\n\n        {/* Number Pad */}\n        {!locked && (\n          <div className=\"grid grid-cols-3 gap-4\">\n            {[1, 2, 3, 4, 5, 6, 7, 8, 9].map((num) => (\n              <button\n                key={num}\n                onClick={() => handleNumberClick(num.toString())}\n                className=\"h-16 bg-white/20 backdrop-blur-lg hover:bg-white/30 text-white text-2xl font-bold rounded-2xl transition-all active:scale-95 shadow-lg hover:shadow-xl\"\n              >\n                {num}\n              </button>\n            ))}\n            <button\n              onClick={handleDelete}\n              className=\"h-16 bg-white/20 backdrop-blur-lg hover:bg-white/30 text-white rounded-2xl transition-all active:scale-95 shadow-lg hover:shadow-xl flex items-center justify-center\"\n            >\n              <Delete className=\"w-6 h-6\" />\n            </button>\n            <button\n              onClick={() => handleNumberClick('0')}\n              className=\"h-16 bg-white/20 backdrop-blur-lg hover:bg-white/30 text-white text-2xl font-bold rounded-2xl transition-all active:scale-95 shadow-lg hover:shadow-xl\"\n            >\n              0\n            </button>\n            <button\n              onClick={handleDelete}\n              className=\"h-16 bg-white/20 backdrop-blur-lg hover:bg-white/30 text-white rounded-2xl transition-all active:scale-95 shadow-lg hover:shadow-xl flex items-center justify-center\"\n            >\n              <Check className=\"w-6 h-6\" />\n            </button>\n          </div>\n        )}\n\n        {/* Forgot PIN */}\n        <div className=\"text-center\">\n          <button\n            onClick={handleForgotPin}\n            className=\"text-white hover:text-blue-100 font-medium underline\"\n          >\n            Forgot PIN?\n          </button>\n        </div>\n\n        {locked && (\n          <div className=\"bg-red-500/20 backdrop-blur-lg border border-red-400 rounded-2xl p-6 text-center space-y-3\">\n            <p className=\"text-white font-semibold\">\n              App Locked Due to Multiple Failed Attempts\n            </p>\n            <p className=\"text-red-100 text-sm\">\n              Please contact helpline to reset PIN:\n            </p>\n            <a\n              href=\"tel:+919876543210\"\n              className=\"inline-block bg-white text-red-600 px-6 py-3 rounded-xl font-bold hover:bg-red-50 transition-colors\"\n            >\n              Call Helpline\n            </a>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AAJA;;;;;AAUO,SAAS,cAAc,EAAE,QAAQ,EAAsB;IAC5D,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,6NAAQ,EAAC;IAC/B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,6NAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,6NAAQ,EAAC;IACzC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,6NAAQ,EAAC;IAErC,IAAA,8NAAS,EAAC;QACR,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,IAAI,QAAQ;YACV,YAAY;QACd;IACF,GAAG,EAAE;IAEL,IAAA,8NAAS,EAAC;QACR,IAAI,IAAI,MAAM,KAAK,GAAG;YACpB;QACF;IACF,GAAG;QAAC;KAAI;IAER,MAAM,YAAY;QAChB,IAAI,QAAQ,UAAU;YACpB,6JAAK,CAAC,OAAO,CAAC;YACd;QACF,OAAO;YACL,MAAM,cAAc,WAAW;YAC/B,YAAY;YAEZ,IAAI,eAAe,GAAG;gBACpB,UAAU;gBACV,6JAAK,CAAC,KAAK,CAAC;YACd,OAAO;gBACL,6JAAK,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,IAAI,YAAY,cAAc,CAAC;YAC3D;YAEA,OAAO;QACT;IACF;IAEA,MAAM,oBAAoB,CAAC;QACzB,IAAI,IAAI,MAAM,GAAG,GAAG;YAClB,OAAO,MAAM;QACf;IACF;IAEA,MAAM,eAAe;QACnB,OAAO,IAAI,KAAK,CAAC,GAAG,CAAC;IACvB;IAEA,MAAM,kBAAkB;QACtB,6JAAK,CAAC,IAAI,CAAC;IACb;IAEA,qBACE,0PAAC;QAAI,WAAU;kBACb,cAAA,0PAAC;YAAI,WAAU;;8BAEb,0PAAC;oBAAI,WAAU;;sCACb,0PAAC;4BAAI,WAAU;sCACb,cAAA,0PAAC,sNAAI;gCAAC,WAAU;;;;;;;;;;;sCAElB,0PAAC;4BAAG,WAAU;sCAA+C;;;;;;sCAG7D,0PAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;;8BAM/B,0PAAC;oBAAI,WAAU;8BACZ;wBAAC;wBAAG;wBAAG;wBAAG;qBAAE,CAAC,GAAG,CAAC,CAAC,sBACjB,0PAAC;4BAEC,WAAW,CAAC,yFAAyF,EACnG,IAAI,MAAM,GAAG,QACT,qCACA,8CACJ;sCAED,IAAI,MAAM,GAAG,QAAQ,MAAM;2BAPvB;;;;;;;;;;gBAaV,CAAC,wBACA,0PAAC;oBAAI,WAAU;;wBACZ;4BAAC;4BAAG;4BAAG;4BAAG;4BAAG;4BAAG;4BAAG;4BAAG;4BAAG;yBAAE,CAAC,GAAG,CAAC,CAAC,oBAChC,0PAAC;gCAEC,SAAS,IAAM,kBAAkB,IAAI,QAAQ;gCAC7C,WAAU;0CAET;+BAJI;;;;;sCAOT,0PAAC;4BACC,SAAS;4BACT,WAAU;sCAEV,cAAA,0PAAC,4NAAM;gCAAC,WAAU;;;;;;;;;;;sCAEpB,0PAAC;4BACC,SAAS,IAAM,kBAAkB;4BACjC,WAAU;sCACX;;;;;;sCAGD,0PAAC;4BACC,SAAS;4BACT,WAAU;sCAEV,cAAA,0PAAC,yNAAK;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAMvB,0PAAC;oBAAI,WAAU;8BACb,cAAA,0PAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;gBAKF,wBACC,0PAAC;oBAAI,WAAU;;sCACb,0PAAC;4BAAE,WAAU;sCAA2B;;;;;;sCAGxC,0PAAC;4BAAE,WAAU;sCAAuB;;;;;;sCAGpC,0PAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAQb"}},
    {"offset": {"line": 424, "column": 0}, "map": {"version":3,"sources":["file:///app/frontend/src/contexts/AppLockContext.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { AppLockScreen } from '@/components/AppLockScreen';\n\ninterface AppLockContextType {\n  isLocked: boolean;\n  setLock: (pin: string) => void;\n  removeLock: () => void;\n  lockApp: () => void;\n  hasPin: boolean;\n}\n\nconst AppLockContext = createContext<AppLockContextType | undefined>(undefined);\n\nexport function AppLockProvider({ children }: { children: ReactNode }) {\n  const [isLocked, setIsLocked] = useState(false);\n  const [hasPin, setHasPin] = useState(false);\n\n  useEffect(() => {\n    const pin = localStorage.getItem('appLockPin');\n    if (pin) {\n      setHasPin(true);\n      setIsLocked(true);\n    }\n  }, []);\n\n  const setLock = (pin: string) => {\n    localStorage.setItem('appLockPin', pin);\n    setHasPin(true);\n  };\n\n  const removeLock = () => {\n    localStorage.removeItem('appLockPin');\n    setHasPin(false);\n    setIsLocked(false);\n  };\n\n  const lockApp = () => {\n    if (hasPin) {\n      setIsLocked(true);\n    }\n  };\n\n  const handleUnlock = () => {\n    setIsLocked(false);\n  };\n\n  if (isLocked && hasPin) {\n    return <AppLockScreen onUnlock={handleUnlock} />;\n  }\n\n  return (\n    <AppLockContext.Provider value={{ isLocked, setLock, removeLock, lockApp, hasPin }}>\n      {children}\n    </AppLockContext.Provider>\n  );\n}\n\nexport function useAppLock() {\n  const context = useContext(AppLockContext);\n  if (!context) {\n    throw new Error('useAppLock must be used within AppLockProvider');\n  }\n  return context;\n}"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAaA,MAAM,+BAAiB,IAAA,kOAAa,EAAiC;AAE9D,SAAS,gBAAgB,EAAE,QAAQ,EAA2B;IACnE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,6NAAQ,EAAC;IACzC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,6NAAQ,EAAC;IAErC,IAAA,8NAAS,EAAC;QACR,MAAM,MAAM,aAAa,OAAO,CAAC;QACjC,IAAI,KAAK;YACP,UAAU;YACV,YAAY;QACd;IACF,GAAG,EAAE;IAEL,MAAM,UAAU,CAAC;QACf,aAAa,OAAO,CAAC,cAAc;QACnC,UAAU;IACZ;IAEA,MAAM,aAAa;QACjB,aAAa,UAAU,CAAC;QACxB,UAAU;QACV,YAAY;IACd;IAEA,MAAM,UAAU;QACd,IAAI,QAAQ;YACV,YAAY;QACd;IACF;IAEA,MAAM,eAAe;QACnB,YAAY;IACd;IAEA,IAAI,YAAY,QAAQ;QACtB,qBAAO,0PAAC,gKAAa;YAAC,UAAU;;;;;;IAClC;IAEA,qBACE,0PAAC,eAAe,QAAQ;QAAC,OAAO;YAAE;YAAU;YAAS;YAAY;YAAS;QAAO;kBAC9E;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,+NAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 500, "column": 0}, "map": {"version":3,"sources":["file:///app/frontend/src/components/PWAInstallPrompt.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { X, Download, Smartphone, Zap, Bell, Shield } from 'lucide-react';\nimport { toast } from 'sonner';\n\ninterface BeforeInstallPromptEvent extends Event {\n  prompt: () => Promise<void>;\n  userChoice: Promise<{ outcome: 'accepted' | 'dismissed' }>;\n}\n\nexport function PWAInstallPrompt() {\n  const [showPrompt, setShowPrompt] = useState(false);\n  const [deferredPrompt, setDeferredPrompt] = useState<BeforeInstallPromptEvent | null>(null);\n  const [isInstalled, setIsInstalled] = useState(false);\n\n  useEffect(() => {\n    // Check if already installed\n    const installed = localStorage.getItem('pwaInstalled') === 'true';\n    if (installed) {\n      setIsInstalled(true);\n      return;\n    }\n\n    // Check last shown time (1 hour gap)\n    const lastShown = localStorage.getItem('pwaPromptLastShown');\n    const oneHourAgo = Date.now() - (60 * 60 * 1000);\n    \n    if (lastShown && parseInt(lastShown) > oneHourAgo) {\n      return; // Don't show if shown less than 1 hour ago\n    }\n\n    // Listen for beforeinstallprompt event\n    const handleBeforeInstall = (e: Event) => {\n      e.preventDefault();\n      const promptEvent = e as BeforeInstallPromptEvent;\n      setDeferredPrompt(promptEvent);\n      \n      // Show prompt after a short delay\n      setTimeout(() => {\n        setShowPrompt(true);\n        localStorage.setItem('pwaPromptLastShown', Date.now().toString());\n      }, 3000);\n    };\n\n    window.addEventListener('beforeinstallprompt', handleBeforeInstall);\n\n    // Check if app is already installed\n    window.addEventListener('appinstalled', () => {\n      setIsInstalled(true);\n      localStorage.setItem('pwaInstalled', 'true');\n      setShowPrompt(false);\n      toast.success('App installed successfully! üéâ');\n    });\n\n    return () => {\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstall);\n    };\n  }, []);\n\n  const handleInstall = async () => {\n    if (!deferredPrompt) {\n      toast.error('Installation not available');\n      return;\n    }\n\n    deferredPrompt.prompt();\n    const { outcome } = await deferredPrompt.userChoice;\n    \n    if (outcome === 'accepted') {\n      setIsInstalled(true);\n      localStorage.setItem('pwaInstalled', 'true');\n      toast.success('Installing app... üéâ');\n    }\n    \n    setDeferredPrompt(null);\n    setShowPrompt(false);\n  };\n\n  const handleDismiss = () => {\n    setShowPrompt(false);\n    localStorage.setItem('pwaPromptLastShown', Date.now().toString());\n  };\n\n  if (!showPrompt || isInstalled) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in\">\n      <div className=\"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-md w-full overflow-hidden transform animate-scale-in\">\n        {/* Header with Gradient */}\n        <div className=\"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 p-6 text-white relative\">\n          <button\n            onClick={handleDismiss}\n            className=\"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n          <Smartphone className=\"w-16 h-16 mb-4 drop-shadow-lg\" />\n          <h2 className=\"text-2xl font-bold mb-2\">Install Stady App</h2>\n          <p className=\"text-blue-100\">Get the best experience with our app</p>\n        </div>\n\n        {/* Benefits */}\n        <div className=\"p-6 space-y-4\">\n          <div className=\"space-y-3\">\n            <div className=\"flex items-start gap-3\">\n              <div className=\"w-10 h-10 rounded-xl bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center flex-shrink-0\">\n                <Zap className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\n              </div>\n              <div>\n                <h3 className=\"font-semibold text-gray-900 dark:text-white\">Instant Access</h3>\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">‡§§‡•Å‡§∞‡§Ç‡§§ ‡§ñ‡•ã‡§≤‡•á‡§Ç ‡§¨‡§ø‡§®‡§æ browser ‡§ï‡•á</p>\n              </div>\n            </div>\n\n            <div className=\"flex items-start gap-3\">\n              <div className=\"w-10 h-10 rounded-xl bg-green-100 dark:bg-green-900/20 flex items-center justify-center flex-shrink-0\">\n                <Bell className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\n              </div>\n              <div>\n                <h3 className=\"font-semibold text-gray-900 dark:text-white\">Push Notifications</h3>\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">‡§®‡§è forms ‡§ï‡•Ä instant updates</p>\n              </div>\n            </div>\n\n            <div className=\"flex items-start gap-3\">\n              <div className=\"w-10 h-10 rounded-xl bg-purple-100 dark:bg-purple-900/20 flex items-center justify-center flex-shrink-0\">\n                <Shield className=\"w-5 h-5 text-purple-600 dark:text-purple-400\" />\n              </div>\n              <div>\n                <h3 className=\"font-semibold text-gray-900 dark:text-white\">Offline Support</h3>\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">‡§¨‡§ø‡§®‡§æ internet ‡§ï‡•á ‡§≠‡•Ä ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡•á</p>\n              </div>\n            </div>\n          </div>\n\n          {/* Buttons */}\n          <div className=\"flex gap-3 pt-4\">\n            <button\n              onClick={handleDismiss}\n              className=\"flex-1 px-4 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-semibold hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\n            >\n              Continue on Web\n            </button>\n            <button\n              onClick={handleInstall}\n              className=\"flex-1 flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105\"\n            >\n              <Download className=\"w-5 h-5\" />\n              Install Now\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}