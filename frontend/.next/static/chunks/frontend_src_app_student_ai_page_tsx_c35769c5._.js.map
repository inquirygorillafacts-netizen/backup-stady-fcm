{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///app/frontend/src/app/student/ai/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { \n  Send, \n  Image as ImageIcon,\n  FileText,\n  Camera,\n  Settings,\n  Plus,\n  MessageSquare,\n  Mic,\n  MicOff,\n  Sparkles,\n  Search,\n  ChevronDown,\n  ChevronUp,\n  History,\n  Bot,\n  User as UserIcon,\n  Trash2,\n  Copy,\n  Share2,\n  RotateCw,\n  Zap,\n  Brain,\n  ScanLine,\n  Upload,\n  Download,\n  Edit,\n  Save,\n  X,\n  Workflow,\n  Check,\n  Heart,\n  MoreVertical,\n  Volume2,\n  Pause,\n  Play,\n  Square,\n  CircleDot\n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport { getFirebaseDatabase } from '@/lib/firebase';\nimport { ref, set, get, update } from 'firebase/database';\n\ninterface Message {\n  id: string;\n  role: 'user' | 'assistant';\n  content: string;\n  timestamp: Date;\n  type?: 'text' | 'image' | 'pdf';\n  imageUrl?: string;\n}\n\ninterface Chat {\n  id: string;\n  title: string;\n  messages: Message[];\n  created_at: string;\n}\n\ninterface CustomAIModel {\n  id: string;\n  name: string;\n  purpose: string;\n  instructions: string;\n  sources: string[];\n  created_at: string;\n}\n\nexport default function AIPage() {\n  const [chats, setChats] = useState<Chat[]>([]);\n  const [currentChat, setCurrentChat] = useState<Chat | null>(null);\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [showHistory, setShowHistory] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const [showCustomModels, setShowCustomModels] = useState(false);\n  const [selectedFeature, setSelectedFeature] = useState<'chat' | 'image-gen' | 'deep-research' | 'voice'>('chat');\n  const [isRecording, setIsRecording] = useState(false);\n  const [customModels, setCustomModels] = useState<CustomAIModel[]>([]);\n  const [selectedModel, setSelectedModel] = useState<string | null>(null);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    fetchChats();\n    loadCustomModels();\n  }, []);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const fetchChats = () => {\n    const stored = localStorage.getItem('aiChats');\n    if (stored) {\n      setChats(JSON.parse(stored));\n    }\n  };\n\n  const loadCustomModels = () => {\n    const stored = localStorage.getItem('customAIModels');\n    if (stored) {\n      setCustomModels(JSON.parse(stored));\n    }\n  };\n\n  const createNewChat = () => {\n    const newChat: Chat = {\n      id: Date.now().toString(),\n      title: 'New Chat',\n      messages: [],\n      created_at: new Date().toISOString()\n    };\n    const updatedChats = [newChat, ...chats];\n    setChats(updatedChats);\n    setCurrentChat(newChat);\n    setMessages([]);\n    localStorage.setItem('aiChats', JSON.stringify(updatedChats));\n    toast.success('New chat created');\n  };\n\n  const handleSend = async () => {\n    if (!input.trim()) return;\n\n    if (!currentChat) {\n      createNewChat();\n      return;\n    }\n\n    const userMessage: Message = {\n      id: Date.now().toString(),\n      role: 'user',\n      content: input,\n      timestamp: new Date()\n    };\n\n    const updatedMessages = [...messages, userMessage];\n    setMessages(updatedMessages);\n    setInput('');\n    setLoading(true);\n\n    // Simulate AI response\n    setTimeout(() => {\n      const aiMessage: Message = {\n        id: (Date.now() + 1).toString(),\n        role: 'assistant',\n        content: getDemoResponse(selectedFeature),\n        timestamp: new Date()\n      };\n      const finalMessages = [...updatedMessages, aiMessage];\n      setMessages(finalMessages);\n      \n      // Update chat in storage\n      const updatedChat = { ...currentChat, messages: finalMessages };\n      setCurrentChat(updatedChat);\n      const updatedChats = chats.map(c => c.id === currentChat.id ? updatedChat : c);\n      setChats(updatedChats);\n      localStorage.setItem('aiChats', JSON.stringify(updatedChats));\n      \n      setLoading(false);\n    }, 1500);\n  };\n\n  const getDemoResponse = (feature: string) => {\n    switch (feature) {\n      case 'image-gen':\n        return 'ðŸŽ¨ Image generation à¤•à¥‡ à¤²à¤¿à¤ à¤®à¥ˆà¤‚ à¤†à¤ªà¤•à¥‡ prompt à¤•à¥‡ based à¤ªà¤° beautiful images create à¤•à¤° à¤¸à¤•à¤¤à¤¾ à¤¹à¥‚à¤‚à¥¤ à¤¯à¤¹ feature à¤¬à¤¾à¤¦ à¤®à¥‡à¤‚ Google Gemini Nano Banana à¤¯à¤¾ DALL-E à¤¸à¥‡ integrate à¤¹à¥‹à¤—à¤¾à¥¤';\n      case 'deep-research':\n        return 'ðŸ” Deep Research Mode: à¤®à¥ˆà¤‚ à¤†à¤ªà¤•à¥‡ topic à¤ªà¤° comprehensive research à¤•à¤°à¥‚à¤‚à¤—à¤¾, multiple sources à¤¸à¥‡ information gather à¤•à¤°à¥‚à¤‚à¤—à¤¾, à¤”à¤° detailed analysis à¤•à¥‡ à¤¸à¤¾à¤¥ report provide à¤•à¤°à¥‚à¤‚à¤—à¤¾à¥¤ à¤¯à¤¹ feature à¤¬à¤¾à¤¦ à¤®à¥‡à¤‚ fully functional à¤¹à¥‹à¤—à¤¾à¥¤';\n      case 'voice':\n        return 'ðŸŽ¤ Voice-to-Voice mode à¤®à¥‡à¤‚ à¤†à¤ª à¤®à¥à¤à¤¸à¥‡ à¤¬à¥‹à¤²à¤•à¤° à¤¬à¤¾à¤¤ à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚ à¤”à¤° à¤®à¥ˆà¤‚ à¤­à¥€ audio à¤®à¥‡à¤‚ respond à¤•à¤°à¥‚à¤‚à¤—à¤¾à¥¤ à¤¯à¤¹ Google Gemini Live API à¤¸à¥‡ integrate à¤¹à¥‹à¤—à¤¾à¥¤';\n      default:\n        return `à¤®à¥ˆà¤‚ à¤†à¤ªà¤•à¥€ à¤®à¤¦à¤¦ à¤•à¥‡ à¤²à¤¿à¤ à¤¯à¤¹à¤¾à¤‚ à¤¹à¥‚à¤‚! ${selectedModel ? `Current Model: ${customModels.find(m => m.id === selectedModel)?.name}` : ''}\\n\\nà¤¯à¤¹ à¤à¤• demo response à¤¹à¥ˆà¥¤ Firebase à¤”à¤° Google AI integration à¤•à¥‡ à¤¬à¤¾à¤¦ à¤¯à¤¹ fully functional à¤¹à¥‹à¤—à¤¾à¥¤\\n\\nâœ¨ Available Features:\\n- Study materials à¤”à¤° notes\\n- Government job forms à¤•à¥€ information\\n- Exam preparation tips\\n- PDF generation\\n- Image analysis\\n- Deep research`;\n    }\n  };\n\n  const handleFileUpload = (type: 'image' | 'pdf' | 'camera') => {\n    toast.info(`${type} upload feature will be available after Firebase Storage integration`);\n  };\n\n  const handleVoiceToggle = () => {\n    setIsRecording(!isRecording);\n    if (!isRecording) {\n      toast.info('Voice recording started... (Feature pending)');\n    } else {\n      toast.info('Voice recording stopped');\n    }\n  };\n\n  const handleGeneratePDF = () => {\n    toast.info('PDF generation feature will create downloadable documents from chat history');\n  };\n\n  const handleCopy = (content: string) => {\n    navigator.clipboard.writeText(content);\n    toast.success('Copied to clipboard!');\n  };\n\n  const handleShare = (message: Message) => {\n    const shareUrl = `${window.location.origin}/shared/${message.id}`;\n    navigator.clipboard.writeText(shareUrl);\n    toast.success('Share link copied! Others can view partial content and must login to read full.');\n  };\n\n  const handleDeleteChat = (chatId: string) => {\n    const updatedChats = chats.filter(c => c.id !== chatId);\n    setChats(updatedChats);\n    localStorage.setItem('aiChats', JSON.stringify(updatedChats));\n    if (currentChat?.id === chatId) {\n      setCurrentChat(null);\n      setMessages([]);\n    }\n    toast.success('Chat deleted');\n  };\n\n  const FEATURES = [\n    { id: 'chat', label: 'Chat', icon: MessageSquare },\n    { id: 'image-gen', label: 'Image Gen', icon: ImageIcon },\n    { id: 'deep-research', label: 'Deep Research', icon: Zap },\n    { id: 'voice', label: 'Voice Chat', icon: Mic },\n  ];\n\n  return (\n    <div className=\"h-screen flex relative\">\n      {/* Chat History Sidebar */}\n      {showHistory && (\n        <div className=\"fixed inset-0 z-50 lg:relative lg:block\">\n          <div className=\"lg:hidden absolute inset-0 bg-black/50\" onClick={() => setShowHistory(false)} />\n          <div className=\"absolute lg:relative inset-y-0 left-0 w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 overflow-y-auto\">\n            <div className=\"p-4 space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-lg font-bold text-gray-900 dark:text-white\">History</h2>\n                <button onClick={() => setShowHistory(false)} className=\"lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\">\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n              \n              <button\n                onClick={createNewChat}\n                className=\"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-3 rounded-xl font-medium hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg\"\n              >\n                <Plus className=\"w-5 h-5\" />\n                New Chat\n              </button>\n\n              <div className=\"space-y-2\">\n                {chats.map((chat) => (\n                  <div key={chat.id} className=\"relative group\">\n                    <button\n                      onClick={() => {\n                        setCurrentChat(chat);\n                        setMessages(chat.messages || []);\n                        setShowHistory(false);\n                      }}\n                      className={`w-full text-left p-3 rounded-lg transition-colors ${\n                        currentChat?.id === chat.id\n                          ? 'bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400'\n                          : 'hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300'\n                      }`}\n                    >\n                      <p className=\"font-medium truncate\">{chat.title}</p>\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                        {new Date(chat.created_at).toLocaleDateString('hi-IN')}\n                      </p>\n                    </button>\n                    <button\n                      onClick={() => handleDeleteChat(chat.id)}\n                      className=\"absolute top-2 right-2 p-1 rounded opacity-0 group-hover:opacity-100 bg-red-500 text-white hover:bg-red-600 transition-all\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Main Chat Area */}\n      <div className=\"flex-1 flex flex-col\">\n        {/* Header */}\n        <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center gap-3\">\n              <button\n                onClick={() => setShowHistory(!showHistory)}\n                className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\"\n              >\n                <History className=\"w-5 h-5\" />\n              </button>\n              <div>\n                <h1 className=\"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2\">\n                  <Brain className=\"w-5 h-5 text-purple-600\" />\n                  AI Assistant\n                </h1>\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                  {selectedModel \n                    ? customModels.find(m => m.id === selectedModel)?.name \n                    : 'Powered by Google AI'}\n                </p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <button\n                onClick={() => setShowCustomModels(!showCustomModels)}\n                className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\"\n                title=\"Custom AI Models\"\n              >\n                <Workflow className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={() => setShowSettings(!showSettings)}\n                className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\"\n              >\n                <Settings className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n\n          {/* Feature Selector */}\n          <div className=\"flex gap-2 overflow-x-auto pb-2\">\n            {FEATURES.map((feature) => {\n              const Icon = feature.icon;\n              return (\n                <button\n                  key={feature.id}\n                  onClick={() => setSelectedFeature(feature.id as any)}\n                  className={`flex items-center gap-2 px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all ${\n                    selectedFeature === feature.id\n                      ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg'\n                      : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'\n                  }`}\n                >\n                  <Icon className=\"w-4 h-4\" />\n                  {feature.label}\n                </button>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Messages */}\n        <div className=\"flex-1 overflow-y-auto p-6 space-y-4 bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800\">\n          {messages.length === 0 ? (\n            <div className=\"h-full flex items-center justify-center\">\n              <div className=\"text-center space-y-6 max-w-2xl\">\n                <div className=\"w-24 h-24 mx-auto bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-2xl animate-pulse\">\n                  <Bot className=\"w-12 h-12 text-white\" />\n                </div>\n                <h2 className=\"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n                  AI Study Assistant\n                </h2>\n                <p className=\"text-gray-600 dark:text-gray-400\">\n                  à¤®à¥ˆà¤‚ à¤†à¤ªà¤•à¥€ study à¤®à¥‡à¤‚ à¤®à¤¦à¤¦ à¤•à¤° à¤¸à¤•à¤¤à¤¾ à¤¹à¥‚à¤‚à¥¤ Ask me anything!\n                </p>\n                <div className=\"grid grid-cols-2 gap-4 pt-4\">\n                  {[\n                    { icon: FileText, text: 'Generate Study PDFs' },\n                    { icon: ImageIcon, text: 'Create Images' },\n                    { icon: Zap, text: 'Deep Research' },\n                    { icon: Camera, text: 'Scan & Analyze' }\n                  ].map((item, idx) => (\n                    <div key={idx} className=\"p-4 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700\">\n                      <item.icon className=\"w-6 h-6 text-blue-600 dark:text-blue-400 mb-2\" />\n                      <p className=\"text-sm font-medium text-gray-900 dark:text-white\">{item.text}</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          ) : (\n            messages.map((message) => (\n              <div\n                key={message.id}\n                className={`flex gap-3 ${\n                  message.role === 'user' ? 'justify-end' : 'justify-start'\n                } animate-fade-in`}\n              >\n                {message.role === 'assistant' && (\n                  <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-lg\">\n                    <Bot className=\"w-6 h-6 text-white\" />\n                  </div>\n                )}\n                <div\n                  className={`max-w-2xl p-4 rounded-2xl shadow-lg ${\n                    message.role === 'user'\n                      ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white'\n                      : 'bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700'\n                  }`}\n                >\n                  <p className=\"whitespace-pre-wrap\">{message.content}</p>\n                  <div className=\"mt-3 flex items-center gap-2\">\n                    <button \n                      onClick={() => handleCopy(message.content)}\n                      className=\"p-1.5 rounded-lg hover:bg-black/10 dark:hover:bg-white/10 transition-colors\"\n                    >\n                      <Copy className=\"w-4 h-4\" />\n                    </button>\n                    <button \n                      onClick={() => handleShare(message)}\n                      className=\"p-1.5 rounded-lg hover:bg-black/10 dark:hover:bg-white/10 transition-colors\"\n                    >\n                      <Share2 className=\"w-4 h-4\" />\n                    </button>\n                    {message.role === 'assistant' && (\n                      <button className=\"p-1.5 rounded-lg hover:bg-black/10 dark:hover:bg-white/10 transition-colors\">\n                        <RotateCw className=\"w-4 h-4\" />\n                      </button>\n                    )}\n                    <span className=\"ml-auto text-xs opacity-60\">\n                      {new Date(message.timestamp).toLocaleTimeString('hi-IN', { hour: '2-digit', minute: '2-digit' })}\n                    </span>\n                  </div>\n                </div>\n                {message.role === 'user' && (\n                  <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center flex-shrink-0 shadow-lg\">\n                    <UserIcon className=\"w-6 h-6 text-white\" />\n                  </div>\n                )}\n              </div>\n            ))\n          )}\n          {loading && (\n            <div className=\"flex gap-3 animate-fade-in\">\n              <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg\">\n                <Bot className=\"w-6 h-6 text-white\" />\n              </div>\n              <div className=\"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700\">\n                <div className=\"flex gap-2\">\n                  <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\" />\n                  <div className=\"w-2 h-2 bg-purple-500 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }} />\n                  <div className=\"w-2 h-2 bg-pink-500 rounded-full animate-bounce\" style={{ animationDelay: '0.4s' }} />\n                </div>\n              </div>\n            </div>\n          )}\n          <div ref={messagesEndRef} />\n        </div>\n\n        {/* Input Area */}\n        <div className=\"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4\">\n          <div className=\"max-w-4xl mx-auto\">\n            {/* Quick Actions */}\n            <div className=\"flex items-center gap-2 mb-3 overflow-x-auto pb-2\">\n              <button \n                onClick={() => handleFileUpload('image')}\n                className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n                title=\"Upload Image\"\n              >\n                <ImageIcon className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\n              </button>\n              <button \n                onClick={() => handleFileUpload('pdf')}\n                className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n                title=\"Upload PDF\"\n              >\n                <FileText className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\n              </button>\n              <button \n                onClick={() => handleFileUpload('camera')}\n                className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n                title=\"Camera/Scanner\"\n              >\n                <Camera className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\n              </button>\n              <button \n                onClick={handleVoiceToggle}\n                className={`p-2 rounded-lg transition-colors ${\n                  isRecording \n                    ? 'bg-red-500 text-white animate-pulse' \n                    : 'hover:bg-gray-100 dark:hover:bg-gray-700'\n                }`}\n                title=\"Voice Input\"\n              >\n                <Mic className=\"w-5 h-5\" />\n              </button>\n              <button \n                onClick={handleGeneratePDF}\n                className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n                title=\"Generate PDF\"\n              >\n                <Download className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\n              </button>\n              <div className=\"ml-auto text-xs text-gray-500 dark:text-gray-400\">\n                {selectedFeature === 'voice' && 'Voice Mode Active ðŸŽ¤'}\n              </div>\n            </div>\n\n            {/* Input Field */}\n            <div className=\"flex items-center gap-2\">\n              <input\n                type=\"text\"\n                value={input}\n                onChange={(e) => setInput(e.target.value)}\n                onKeyPress={(e) => e.key === 'Enter' && !e.shiftKey && handleSend()}\n                placeholder={\n                  selectedFeature === 'image-gen' \n                    ? 'Describe the image you want to generate...'\n                    : selectedFeature === 'deep-research'\n                    ? 'What topic should I research?'\n                    : 'Type your message...'\n                }\n                className=\"flex-1 px-4 py-3 bg-gray-100 dark:bg-gray-700 border-none rounded-xl focus:ring-2 focus:ring-blue-500 transition-all\"\n              />\n              <button\n                onClick={handleSend}\n                disabled={!input.trim() || loading}\n                className=\"p-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95\"\n              >\n                <Send className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Custom Models Panel */}\n      {showCustomModels && (\n        <CustomModelsPanel\n          models={customModels}\n          setModels={setCustomModels}\n          selectedModel={selectedModel}\n          setSelectedModel={setSelectedModel}\n          onClose={() => setShowCustomModels(false)}\n        />\n      )}\n    </div>\n  );\n}\n\n// Custom Models Panel Component\nfunction CustomModelsPanel({ \n  models, \n  setModels, \n  selectedModel, \n  setSelectedModel,\n  onClose \n}: any) {\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    purpose: '',\n    instructions: '',\n    sources: ''\n  });\n\n  const handleCreate = () => {\n    if (!formData.name.trim()) {\n      toast.error('Please enter model name');\n      return;\n    }\n\n    if (models.length >= 3) {\n      toast.error('Maximum 3 custom models allowed');\n      return;\n    }\n\n    const newModel: CustomAIModel = {\n      id: Date.now().toString(),\n      name: formData.name,\n      purpose: formData.purpose,\n      instructions: formData.instructions,\n      sources: formData.sources.split(',').map(s => s.trim()).filter(Boolean),\n      created_at: new Date().toISOString()\n    };\n\n    const updatedModels = [...models, newModel];\n    setModels(updatedModels);\n    localStorage.setItem('customAIModels', JSON.stringify(updatedModels));\n    toast.success('Custom AI model created!');\n    setShowCreateForm(false);\n    setFormData({ name: '', purpose: '', instructions: '', sources: '' });\n  };\n\n  const handleDelete = (id: string) => {\n    const updatedModels = models.filter((m: CustomAIModel) => m.id !== id);\n    setModels(updatedModels);\n    localStorage.setItem('customAIModels', JSON.stringify(updatedModels));\n    if (selectedModel === id) {\n      setSelectedModel(null);\n    }\n    toast.success('Model deleted');\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm\">\n      <div className=\"bg-white dark:bg-gray-800 rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto shadow-2xl\">\n        <div className=\"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 z-10\">\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Custom AI Models</h2>\n            <button onClick={onClose} className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\">\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n          <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-2\">\n            Create up to 3 custom AI models for specific purposes\n          </p>\n        </div>\n\n        <div className=\"p-6 space-y-4\">\n          {/* Default Model */}\n          <div \n            onClick={() => setSelectedModel(null)}\n            className={`p-4 rounded-xl border-2 cursor-pointer transition-all ${\n              selectedModel === null\n                ? 'border-blue-600 bg-blue-50 dark:bg-blue-900/20'\n                : 'border-gray-200 dark:border-gray-700 hover:border-blue-400'\n            }`}\n          >\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h3 className=\"font-bold text-gray-900 dark:text-white\">Default AI</h3>\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">General purpose AI assistant</p>\n              </div>\n              {selectedModel === null && (\n                <div className=\"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center\">\n                  <Check className=\"w-4 h-4 text-white\" />\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Custom Models */}\n          {models.map((model: CustomAIModel) => (\n            <div \n              key={model.id}\n              onClick={() => setSelectedModel(model.id)}\n              className={`p-4 rounded-xl border-2 cursor-pointer transition-all relative group ${\n                selectedModel === model.id\n                  ? 'border-purple-600 bg-purple-50 dark:bg-purple-900/20'\n                  : 'border-gray-200 dark:border-gray-700 hover:border-purple-400'\n              }`}\n            >\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  <h3 className=\"font-bold text-gray-900 dark:text-white\">{model.name}</h3>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">{model.purpose}</p>\n                  {model.instructions && (\n                    <p className=\"text-xs text-gray-500 dark:text-gray-500 mt-2 line-clamp-2\">\n                      {model.instructions}\n                    </p>\n                  )}\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  {selectedModel === model.id && (\n                    <div className=\"w-6 h-6 bg-purple-600 rounded-full flex items-center justify-center\">\n                      <Check className=\"w-4 h-4 text-white\" />\n                    </div>\n                  )}\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleDelete(model.id);\n                    }}\n                    className=\"opacity-0 group-hover:opacity-100 p-1 rounded bg-red-500 text-white hover:bg-red-600 transition-all\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n\n          {/* Create New Button */}\n          {!showCreateForm && models.length < 3 && (\n            <button\n              onClick={() => setShowCreateForm(true)}\n              className=\"w-full p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-all\"\n            >\n              <Plus className=\"w-6 h-6 mx-auto text-gray-400\" />\n              <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-2\">Create Custom Model</p>\n            </button>\n          )}\n\n          {/* Create Form */}\n          {showCreateForm && (\n            <div className=\"p-4 bg-gray-50 dark:bg-gray-700 rounded-xl space-y-4\">\n              <h3 className=\"font-bold text-gray-900 dark:text-white\">Create New Model</h3>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Model Name *\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                  placeholder=\"e.g., Study Helper, Exam Coach\"\n                  className=\"w-full px-4 py-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Purpose\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.purpose}\n                  onChange={(e) => setFormData({ ...formData, purpose: e.target.value })}\n                  placeholder=\"What is this model for?\"\n                  className=\"w-full px-4 py-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Instructions\n                </label>\n                <textarea\n                  value={formData.instructions}\n                  onChange={(e) => setFormData({ ...formData, instructions: e.target.value })}\n                  placeholder=\"How should this AI behave?\"\n                  rows={3}\n                  className=\"w-full px-4 py-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Sources (comma separated)\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.sources}\n                  onChange={(e) => setFormData({ ...formData, sources: e.target.value })}\n                  placeholder=\"Book names, PDFs, websites...\"\n                  className=\"w-full px-4 py-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={() => setShowCreateForm(false)}\n                  className=\"flex-1 px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-500\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleCreate}\n                  className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700\"\n                >\n                  Create\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}